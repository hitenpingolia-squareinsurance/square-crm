<section class="inner_page_css">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="main_card_form">
            <div class="main_header">
              <div class="header_title">Other Code Renewal Cases</div>
               
            </div>
            <div class="main_body main_card_height_scroll_withoutfooter">
				

				<form [formGroup]="SearchForm" (ngSubmit)="SearchBtn()">
					<div class="row">
				<div class="col-sm-4">
			
				<select (change)="GetEmployees()"  formControlName="Vertical_Id" class="form-control">
					  <option value="0">Select Vertical</option>
					  <option *ngFor="let r of Vertical_Ar;" value="{{r.Id}}">{{r.Name}}</option>
				  </select>
				</div>
			
				 <div class="col-sm-4">
					<select (change)="GetSubBranches($event)"  formControlName="Region_Id" class="form-control">
						<option value="0">Select Region</option>
						<option value="0">None</option>
						<option *ngFor="let r of Region_Ar;" value="{{r.id}}">{{r.text}}</option>
					</select>
				 </div>
			
				<div class="col-sm-4">
					<select (change)="GetEmployees()" formControlName="Sub_Region_Id" class="form-control">
						<option value="0">Select Region-Branch</option>
						<option value="0">None</option>
						<option *ngFor="let r of Sub_Branch_Ar;" value="{{r.id}}">{{r.text}}</option>
					</select>
				</div>
			  </div>
			
			  <div class="row"  >
			
					<div class="col-sm-6">
				  <ng-multiselect-dropdown class="form-control" name="Emp_Id" [placeholder]="Employee_Placeholder" [data]="Emps_Ar" formControlName="Emp_Id" [settings]="dropdownSettings" (onSelect)="onItemSelect($event,'Employee')" (onDeSelect)="onItemDeSelect($event,'Employee')">
				  </ng-multiselect-dropdown>
					</div>
			
					<div class="col-sm-6">
						<ng-multiselect-dropdown class="form-control" name="Agent_Id" [placeholder]="Agents_Placeholder" [data]="Agents_Ar" formControlName="Agent_Id"
							[settings]="AgentdropdownSettings"> </ng-multiselect-dropdown>
					</div>
			  </div>
			
			
				<div class="row"  >
					<div class="col-sm-2">
						<ng-multiselect-dropdown class="form-control" name="SRLOB" placeholder="Select LOB" [data]="SRLOB_Ar" formControlName="SRLOB" [settings]="LOB_dropdownSettings" (onSelect)="onItemSelect($event,'LOB')" (onDeSelect)="onItemDeSelect($event,'LOB')">
						</ng-multiselect-dropdown>
					</div>
			
					<div class="col-sm-4">
							<ng-multiselect-dropdown class="form-control" name="Product_Id" placeholder="Select Product" [data]="Products_Ar" formControlName="Product_Id"
								[settings]="dropdownSettings"></ng-multiselect-dropdown>
					</div>
			
					<div class="col-sm-4">
						<ng-multiselect-dropdown class="form-control" name="Company_Id" placeholder="Select Ins Company" [data]="Companies_Ar" formControlName="Company_Id"
						[settings]="dropdownSettings"></ng-multiselect-dropdown>
				  </div>
			
					<div class="col-sm-2">
						<ng-multiselect-dropdown class="form-control" name="SRStatus" placeholder="Select SR Status" [data]="SRStatus_Ar" formControlName="SRStatus" [settings]="SR_StatusDropdownSettings"> </ng-multiselect-dropdown>
						<span *ngIf="isSubmitted && FC.SRStatus.errors" class="form-text text-muted">
						  <span *ngIf="FC.SRStatus.errors.required" style="color:red;">Please choose business type!</span>
						</span>
					</div>
				</div>
			
				<div class="row"  >
					<div class="col-sm-2">
							<ng-multiselect-dropdown class="form-control" name="SR_Type" placeholder="Select SR Type" [data]="SRType_Ar" formControlName="SR_Type" [settings]="LOB_dropdownSettings" (onSelect)="onItemSelect($event,'SR_Type')"></ng-multiselect-dropdown>
					</div>
			
					<div class="col-sm-2">
							<ng-multiselect-dropdown class="form-control" name="SR_Source_Type" placeholder="Select Source" [data]="SRSource_Ar"	formControlName="SR_Source_Type"
								[settings]="LOB_dropdownSettings" (onSelect)="onItemSelect($event,'Source')"></ng-multiselect-dropdown>
					</div>
			
					<div class="col-sm-2">
						<ng-multiselect-dropdown class="form-control" name="SR_Payout_Mode" placeholder="Payout-Mode" [data]="SR_Payout_Mode_Ar" formControlName="SR_Payout_Mode" [settings]="LOB_dropdownSettings" (onSelect)="onItemSelect($event,'SR_Payout_Mode')">
					   </ng-multiselect-dropdown>
				  </div>
			
				  <div class="col-sm-3">
						<ng-multiselect-dropdown class="form-control" name="SR_Posting_Status" placeholder="Select Posting-Status" [data]="SR_Posting_Status_Ar"
						  formControlName="SR_Posting_Status" [settings]="LOB_dropdownSettings" (onSelect)="onItemSelect($event,'SR_Posting_Status')">
					   </ng-multiselect-dropdown>
				  </div>
			
				  <div class="col-sm-3">
							<input type="text" placeholder="Select Date OR Date-Range" class="form-control" formControlName="DateOrDateRange" bsDaterangepicker [bsConfig]="{dateInputFormat: 'DD-MM-YYYY',isAnimated: true }">
						  <span *ngIf="isSubmitted && FC.DateOrDateRange.errors" class="form-text text-muted">
							  <span *ngIf="FC.DateOrDateRange.errors.required" style="color:red;">Please choose Date or Date-Range!</span>
							</span>
					</div>
				</div>
			
			  <div class="row"  >
						<div class="col-sm-6"></div>
						<div class="col-sm-6" style="text-align: right;">
							<!-- <input *ngIf="(Is_Export==1)" (click)="ExportExcel()" type="button" class="btn btn-success" value="Export">&nbsp;&nbsp; -->
							<input type="submit" class="btn btn-info" value="Search">&nbsp;&nbsp;
							<input (click)="ClearSearch()" type="button" class="btn btn-danger" value="Reset">
						</div>
			  </div>
				</form>
			
				<div class="row"  >
				  <!--<div class="col-sm-2"><b>Total SR : {{TotalSR}}</b></div>
				  <div class="col-sm-4"><b>Total Business : {{TotalNetPremium}}</b></div>-->
				  <div class="col-sm-6">
					<span *ngIf="Percentage_Slot!=0">Please wait <b>{{Percentage_Slot}}%</b></span>
					<span *ngIf="Is_Prepre_Excel==1">Report preparing wait a few minutes...</span>
					<!--If you do not download the report, then share the Export-Id-->
				</div>
			 </div>
			
			 <hr>
			  <!--begin: Datatable-->
			  <div  *ngIf="checkedList?.length>0" class="row"  >
				<div class="col-sm-4">
				  <select class="form-control" [(ngModel)]="UpdatedStatus">
					  <option value="">--Select Status--</option>
					  <option value="1">Approve</option>
					  <option value="2">Cancel</option>
				  </select>
				</div>
			
				<!-- <div class="col-sm-5">
				  <input class="form-control" [(ngModel)]="Remark" placeholder="Remark">
				</div> -->
			
				<div class="col-sm-3">
				  <input type="button" (click)="UpdateStatus()" class="btn btn-info" value="Update">&nbsp;&nbsp;
				  <input (click)="CancelStatusUpdate()" type="button" class="btn btn-danger" value="Cancel">
				</div>
			  </div>
			
			  <hr>
			
			  <div>
				   <table datatable [dtOptions]="dtOptions" class="row-border hover table table-bordered table-hover table-checkable table-responsive" id="kt_datatable" style="margin-top: 13px !important">
							<thead>
							  <tr>
								 <th>No</th>
						 <!-- <th><input [(ngModel)]="masterSelected" name="list_name" value="m1" (change)="checkUncheckAll()" type="checkbox"></th> -->
								 <th>Action</th>
								 <th>Posting-Status</th>
								 <th>CreateDate</th>
								 <th>BookingDate/Status</th>
								 <th>Current/User Status</th>
								 <th>SRCreateUser</th>
								 <th>Remark</th>
								  <th>Source</th>
								 <th>S.No</th>
								<th>LOB</th>
								<th>PaymentTowards</th>
								<th>PaymentMode</th>
								<th>RegistrationNo</th>
								<th>GrossPremium</th>
								<th>File Type</th>
								<th>Customer Name</th>
								<th>Agent</th>
								<th>RM</th>
								<th>UW</th>
								<th>OPS</th>
								<th>Account</th>
			
							</tr>
						</thead>
			
				  <tbody *ngIf="dataAr?.length != 0">
							  <tr *ngFor="let row of dataAr; let i=index;" >
						<!--  *ngIf="row.Posting_Status == '0' || row.Posting_Status == '2' || row.Posting_Status == '4'" -->
			
									<td *ngIf="UserRights['Is_Hod_Renwal_Cases'] == 1" >
						  <input type="checkbox" [(ngModel)]="row.isSelected" name="list_name" value="{{row.Id}}" (change)="isAllSelected()">
						</td>
			
								  <td>
							<a title="SR-Actions" href="javascript:;"  (click)="Actions(row.Id)">
							   <span style="margin-bottom: 5px;" class="label label-info label-inline mr-2">Details</span>
						   </a>
			
						
			
								  </td>
			
								<td>
								  <span *ngIf="row.Posting_Status == '0'" class="label label-warning label-inline mr-2">PendingForPosting</span>
								  <span *ngIf="row.Posting_Status == '1'" class="label label-default label-inline mr-2">PendingForAccounts</span>
								  <span *ngIf="row.Posting_Status == '2'" class="label label-danger label-inline mr-2">RejectByAccounts</span>
								  <span *ngIf="row.Posting_Status == '3'" class="label label-primary label-inline mr-2">PendingForBanking</span>
								  <span *ngIf="row.Posting_Status == '4'" class="label label-danger label-inline mr-2">RejectByBanking</span>
								  <span *ngIf="row.Posting_Status == '5'" class="label label-info label-inline mr-2">Approved</span>
								  <span *ngIf="row.Posting_Status == '6'" class="label label-success label-inline mr-2">Paid/PayoutTransfered</span>
								</td>
			
			
								  <td>{{ row.Add_Stamp }}</td>
								  <td> {{ row.Booking_Date }}
											<span *ngIf="row.SR_Type == 'Normal'" class="label label-warning label-inline mr-2">Normal</span>
											<span *ngIf="row.SR_Type == 'Endorsement'" class="label label-default label-inline mr-2">Endorsement</span>
											<span *ngIf="row.SR_Type == 'Short'" class="label label-primary label-inline mr-2">Short</span>
											<span *ngIf="row.SR_Type == 'Recovery'" class="label label-danger label-inline mr-2">Recovery</span>
											<span *ngIf="row.SR_Type == 'Extra-Payout'" class="label label-danger label-inline mr-2">Extra Reward</span>
			
										  <div style="margin-top:4px;">
										  <span *ngIf="row.SR_Status == 'Complete'" class="label label-success label-inline mr-2">Booked</span>
										  <span *ngIf="row.SR_Status == 'Pending'" class="label label-danger label-inline mr-2">UnBooked</span>
										  <span *ngIf="row.SR_Status == 'Cancelled'" class="label label-danger label-inline mr-2">Cancelled</span>
										  <span *ngIf="row.SR_Status == 'Recovery'" class="label label-danger label-inline mr-2">Recovery</span>
										  </div>
									</td>
								  <td>
									  <span>{{ row.CurrentSrUserName }}</span>
										  <!--<span class="label label-info label-inline mr-2">{{ row.SR_Current_Status }}</span>-->
								</td>
			
								  <td>{{ row.SRCreateUser }}</td>
								  <td>{{ row.SR_Remark }}</td>
								  <td>{{ row.Source }}</td>
								  <td>{{ row.SR_No }}</td>
								  <td>{{ row.LOB_Name }}</td>
								  <td>{{ row.Payment_Towards }}</td>
								  <td>{{ row.Mode_Of_Payment }}</td>
								  <td>{{ row.Registration_No }}</td>
								  <td>{{ row.Estimated_Gross_Premium }}</td>
								  <td>{{ row.File_Type }}</td>
								  <td>{{ row.Customer_Name }}</td>
								  <td>{{ row.Agent_Name }}</td>
								  <td>{{ row.RM_Name }}</td>
								  <td><span *ngIf="row.UW_Name">{{ row.UW_Name }}</span></td>
								  <td><span *ngIf="row.Operation_Name">{{ row.Operation_Name }}</span></td>
								  <td><span *ngIf="row.Account_Name">{{ row.Account_Name }}</span></td>
			
							  </tr>
							</tbody>
			
							<tbody *ngIf="dataAr?.length == 0">
							  <tr>
								<td colspan="15" align="center">No data available !</td>
							  </tr>
							<tbody>
					</table>
				</div>
			
				<!--end: Datatable-->

				
			</div>
		</div>
	</div>
</div>
      <!-- /.row -->
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
</section>