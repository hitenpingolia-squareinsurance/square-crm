<div class="content-wrapper">
    <section class="content"> <!-- section content start -->
        <div class="main-content-right" style="margin: 50px 0px;"> <!-- main content right start -->
            <div class="quote-request-list">
                <div class="clearfix">
                    <div>
                        <div class="row"><!-- row col 9 start -->
                            <div class="col-md-9">
                                <div class="row form-group">
                                    <div class="col-md-12">
                                        <div class="request-details">
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li role="presentation" class="active"> 
                                                    <a href="#quote-details" aria-controls="home" role="tab" data-toggle="tab"> Request Details</a> 
                                                </li>
                                                <li role="ThirdParty">
                                                    <a href="#ThirdParty-details" aria-controls="messages" role="tab" data-toggle="tab"> Request Documents </a>
                                                </li>
                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                <li>
                                                    <label class=" ul-last-btn label label-info">{{row.QuoteStatusNew}}</label>
                                                </li>


                                                <button type="button" *ngIf="Status == '1' &&  AssignBy == 'Admin' && row.AssignUsertype != 'employee'" (click)="AcceptAssignQuote()" class=" ul-last-btn btn btn-info">Accept</button>
                                            </ul>
                                            <div class="tab-content details-scroll">
                                                <div role="tabpanel" class="tab-pane active" id="quote-details">
                                                    <div class="row">
                                                        <div class="col-md-6 border">
                                                            <div class="details-policy">
                                                                <ul>
                                                                    <li>Quotation Id:   <label>{{row.Quotation}}    </label> </li>
                                                                    <li>Customer Name:  <label>{{row.Name}}         </label> </li>
                                                                    <li>Gender:         <label>{{row.Gender}}       </label> </li>
                                                                    <li>Email ID:       <label>{{row.Email}}        </label> </li>
                                                                    <li>Mobile Number:  <label>{{row.Mobile}}       </label> </li>

                                                                    <!-- <li *ngIf="row.AgeData != '' && row.AgeData != null">Self Age:
                                                                        <label
                                                                            *ngIf="row.AgeData != '' && row.AgeData != null && row.AgeData['self']">
                                                                            <ng-container
                                                                                *ngFor="let age of row.AgeData['self']; let i = index">
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </ng-container>
                                                                        </label>
                                                                    </li> -->
                                                                    <ng-container *ngFor="let age of row.AgeData['self']; let i = index">
                                                                        <li *ngIf="age != '' && age != null ">
                                                                            Self Age: 
                                                                            <label> 
                                                                                <span>{{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    
                                                                    <ng-container *ngFor="let age of row.AgeData['self_dob']; let i = index">
                                                                        <li *ngIf="age != '' && age != null">Self DOB:
                                                                             <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>

                                                                    <ng-container *ngFor="let age of row.AgeData['spouse']; let i = index">
                                                                        <li *ngIf="age != '' && age != null">Spouse Age:
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>

                                                                    <ng-container *ngFor="let dob of row.AgeData['spouse_dob']; let i = index">
                                                                        <li *ngIf="dob != '' && dob != null">Spouse DOB:
                                                                            <label>
                                                                                <span> {{ dob }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>

                                                                    <ng-container *ngFor="let age of row.AgeData['daughter']; let i = index">
                                                                        <li *ngIf="age != '' && age != null"> Daughter Age:
                                                                            <label>
                                                                                <span><strong>{{ i == 0 ? 'First' : i ==
                                                                                        1 ? 'Second' : i == 2 ? 'Third'
                                                                                        : 'Fourth' }}:</strong> {{ age
                                                                                    }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let dob of row.AgeData['daughter_dob']; let i = index">
                                                                        <li *ngIf="dob != '' && dob != null" class="doughter_son">Daughter DOB:
                                                                        <label>
                                                                                <span><strong>{{ i == 0 ? 'First' : i ==
                                                                                        1 ? 'Second' : i == 2 ? 'Third'
                                                                                        : 'Fourth' }}:</strong> {{ dob
                                                                                    }}</span>&nbsp;&nbsp;
                                                                        </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <li>Registration
                                                                        Year:
                                                                        <label>{{row.CreateDate}}</label>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <!--col-md-4-->
                                                        <div class="col-md-6 border">
                                                            <div class="details-policy">
                                                                <ul>
                                                                    <ng-container *ngFor="let age of row.AgeData['son']; let i = index">
                                                                        <li *ngIf="age != '' && age != null " class="doughter_son">
                                                                                Son Age:
                                                                            <label>
                                                                            <span><strong>{{ i == 0 ? 'First' : i ==
                                                                                    1 ? 'Second' : i == 2 ? 'Third'
                                                                                    : 'Fourth' }}:</strong> {{ age
                                                                                }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let dob of row.AgeData['son_dob']; let i = index">
                                                                        <li *ngIf="dob != '' && dob != null" class="doughter_son">Son DOB:
                                                                            <label>
                                                                                <span><strong>{{ i == 0 ? 'First' : i ==
                                                                                        1 ? 'Second' : i == 2 ? 'Third'
                                                                                        : 'Fourth' }}:</strong> {{ dob
                                                                                    }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let age of row.AgeData['father']; let i = index">
                                                                    <li *ngIf="age != '' && age != null" class="doughter_son">Father Age:
                                                                        <label >
                                                                            <span> {{ age }}</span>&nbsp;&nbsp;
                                                                        </label>
                                                                    </li>
                                                                    </ng-container>

                                                                    <ng-container *ngFor="let age of row.AgeData['father_dob']; let i = index">
                                                                        <li *ngIf="age != '' && age != null" class="doughter_son">Father DOB:
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let age of row.AgeData['mother']; let i = index">
                                                                        <li *ngIf="age != '' && age != null" class="doughter_son">Mother Age:
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let age of row.AgeData['mother_dob']; let i = index">
                                                                        <li *ngIf="age != '' && age != null" class="doughter_son">Mother DOB:
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>

                                                                    <ng-container *ngFor="let age of row.AgeData['motherinlaw']; let i = index">
                                                                        <li *ngIf="age != '' && age != null">Motherinlaw Age:
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let dob of row.AgeData['motherinlaw_dob']; let i = index">
                                                                        <li *ngIf="dob != '' && dob != null">Motherinlaw DOB:
                                                                            <label>
                                                                                <span> {{ dob }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let age of row.AgeData['fatherinlaw']; let i = index">
                                                                        <li *ngIf="age != '' && age != null">Fatherinlaw Age:
                                                                            <label>{{row.fatherinlaw}}</label>
                                                                            <label>
                                                                                <span> {{ age }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container *ngFor="let dob of row.AgeData['fatherinlaw_dob']; let i = index">
                                                                        <li *ngIf="dob != '' && dob != null">Fatherinlaw DOB:
                                                                            <label>{{row.fatherinlaw}}</label>
                                                                            <label>
                                                                                <span> {{ dob }}</span>&nbsp;&nbsp;
                                                                            </label>
                                                                        </li>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngFor="let row of row.HeightWeight | keyvalue; let i = index">
                                                                        <div class="col-md-12 border">
                                                                            <div class="details-policy">
                                                                                <ul>
                                                                                    <li>{{ ReplesName(row.key) }} :
                                                                                        <label>
                                                                                            {{ row.value }}
                                                                                        </label>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <!--col-md-4-->
                                                        <div class="col-md-12">
                                                            <div class="details-policy">
                                                                <ul class="bottom-li-addon">
                                                                    <li *ngIf="row.Medical_history !== ''">Medical History:
                                                                        <label>{{row.Medical_history}}</label>
                                                                    </li>
                                                                    <li *ngIf="row.RequiredInsurer !== null && row.BestQuote == 'Yes'">
                                                                        Required Insurer:
                                                                        <label>{{row.RequiredInsurer}}</label>
                                                                    </li>
                                                                    <li *ngIf="row.Remark !== null">Remark:
                                                                        <label>{{row.Remark}}</label>
                                                                    </li>
                                                                    <li>
                                                                        Insured Company:
                                                                        <div *ngFor="let company of insurerCompanyNames; let j = index">
                                                                                <label>{{ company.label }}</label>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <!--col-md-4-->
                                                    </div>
                                                </div>
                                                <!--tab-pan-->
                                                <div role="tabpanel" class="tab-pane" id="policy-details">
                                                    <!--Show previous year policy details if available-->
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="details-policy">
                                                                <ul>
                                                                    <li>Previous
                                                                        Insurer:<label>{{row.PreviousInsurer}}</label>
                                                                    </li>
                                                                    <li>Claim Status :
                                                                        <label>{{row.ClaimStatus}}</label>
                                                                    </li>
                                                                    <li>Owner Change :
                                                                        <label>{{row.OwnerChange}}</label>
                                                                    </li>
                                                                    <li>Ncb Protection :
                                                                        <label>{{row.NcbProtection}}</label>
                                                                    </li>
                                                                    <li>Expiry Date :
                                                                        <label>{{row.PreviousExpiryDate}}</label>
                                                                    </li>
                                                                    <li *ngIf="row.LastYearNcb !== null">Last Year NCB:
                                                                        <label>{{row.LastYearNcb}}</label>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div role="tabpanel" class="tab-pane" id="ThirdParty-details">
                                                    <div class="row">
                                                        <ng-container
                                                            *ngFor="let document of row.other_document | keyvalue; let i = index">
                                                            <div class="col-md-12 border">
                                                                <div class="details-policy">
                                                                    <ul>
                                                                        <li>{{ ReplesName(document.key) }} :
                                                                            <label>
                                                                                <!-- {{ document.value }} -->
                                                                                <a class="view_image"
                                                                                    (click)="ViewDocument2(document.value)">View</a>
                                                                            </label>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--tab-content-->
                                        </div>
                                        <!---rquest-details-->
                                    </div>
                                </div>
                            </div>




                            <div class="col-md-3">
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h2 class="box-title "> Documents Attached </h2>
                                    </div>
                                    <div class="doc-attached box-body document-box-scroll" id="document-box">
                                        <div class="row" *ngIf="row.PaymentProof != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> PAYMENT PROOF </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item">
                                                                    <a title="rc_front_image.jpg" class="view_image"
                                                                        (click)="ViewDocument(row.PaymentProof)"
                                                                        target="_blank">
                                                                        <!-- <img src="{{row.RCFront}}" class="img-responsive" alt="rc_front_image.jpg"> -->
                                                                        View
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="row.PolicyPdf != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> POLICY PDF </div>
                                            <div class="col-lg-3 col-md-4 text-left"></div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.PolicyPdf)"
                                                                        target="_blank"> View </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="(row.MedicalDocuments0 != '')">
                                            <div class="col-lg-9 col-md-8 doc-name"> MEDICAL DOCUMENT 1 </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.MedicalDocuments0)"
                                                                        target="_blank"> View </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="row.MedicalDocuments1 != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> MEDICAL DOCUMENT 2 </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.MedicalDocuments1)"
                                                                        target="_blank"> View </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>



                                        <div class="row" *ngIf="row.MedicalDocuments2 != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> MEDICAL DOCUMENT 3 </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.MedicalDocuments2)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row" *ngIf="row.PreviousPolicyPdf != ''">
                                            <div class="col-lg-9 col-md-8 doc-name">PREVIOUS POLICY PDF </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.PreviousPolicyPdf)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row" *ngIf="row.InsurerFile != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> Accepted Quotes </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.InsurerFile)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row" *ngIf="row.SurveyLink != ''">
                                            <div class="col-lg-9 col-md-8 doc-name"> SURVEY </div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.SurveyLink)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row" *ngIf="row.aadhaar_document_front != '0'">
                                            <div class="col-lg-9 col-md-8 doc-name"> Aadhaar Card Front</div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.aadhaar_document_front)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row" *ngIf="row.aadhaar_document_back != '0'">
                                            <div class="col-lg-9 col-md-8 doc-name"> Aadhaar Card Back</div>
                                            <div class="col-lg-3 col-md-4 text-left"> </div>
                                            <div class="col-md-12 doc-carousel">
                                                <div class="owl-carousel owl-loaded owl-drag">
                                                    <div class="owl-stage-outer">
                                                        <div class="owl-stage"
                                                            style="transform: translate3d(0px, 0px, 0px); transition: all 0s ease 0s; width: 85px;">
                                                            <div class="owl-item active"
                                                                style="width: 79.175px; margin-right: 5px;">
                                                                <div class="item"> <a title="rc_front_image.jpg"
                                                                        class="view_image"
                                                                        (click)="ViewDocument(row.aadhaar_document_back)"
                                                                        target="_blank"> View
                                                                    </a> </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>  <!-- row col 9 end -->

                        <div class="row"><!-- row col 8 start -->
                            <div class="col-md-8">
                                <div class="row form-group">
                                    <div *ngIf="row.RejectedStatus == '1'" class="col-md-12" id="section-status">
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse"
                                                                        href="#collapse-0" aria-expanded="true"
                                                                        aria-controls="collapse-1">
                                                                        <label class="style_span"> Status - Rejected </label>
                                                                        <span class="singl-span"><span>By - <label>{{row.AssignerName}}</label></span>
                                                                            <span class="time-div">Time - <label>{{row.rejected_date}}</label></span>
                                                                        </span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-0" class="collapse" data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="insurer-list">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th scope="col"> Sr No.</th>
                                                                                    <th scope="col">Quotes</th>
                                                                                    <th scope="col">Remarks</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td>1</td>
                                                                                    <td class="btn-all"> 
                                                                                        <a class="btn btn-danger btn-xs download-btn">
                                                                                            <i class="fa fa-check" aria-hidden="true"></i>
                                                                                            Quote Rejected 
                                                                                        </a> 
                                                                                    </td>
                                                                                    <td>{{row.rejected_remarks}}</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '6' && Status != '8'" class="col-md-12" id="section-status"> <!--GetSharedPaymentUrl.SR_Status == 'Complete'-->
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse"
                                                                        href="#collapse-6" aria-expanded="true"
                                                                        aria-controls="collapse-1"> 
                                                                        <label class="style_span"> Status - Complete </label>
                                                                        <span class="singl-span"><span>By - <label>{{row.AssignerName}}</label></span>
                                                                            <span class="time-div">Time - <label>{{GetSharedPaymentUrl.PolicyCompletedTime}}</label></span>
                                                                        </span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-6" class="collapse"
                                                                data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="offline_payment_design">
                                                                        <div class="img_box"><img src="/assets/image/verified.gif" alt="verified"> </div>
                                                                        <div class="payment_secuss_title">Dear
                                                                            {{row.Name}}, <br>Thank you for choosing Square Insurance Brokers Private Limited.<br> Your payment has been completed successfully and your SR Number is
                                                                            <a title="rc_front_image.jpg" class="view_image" (click)="SrPopup(1,row.SrId)" target="_blank"> {{row.FullSrNo}}</a>.
                                                                            In case of any query kindly mail us at 
                                                                            <a href="mailto:insurance@squareinsurance.in">insurance@squareinsurance.in</a>.
                                                                        </div>
                                                                        <ul class="payment_block">
                                                                            <li><span>premium paid :</span>
                                                                                <label><i class="fa fa-inr"></i>{{GetSharedPaymentUrl.gross}} </label>
                                                                            </li>
                                                                            <li><span>status : </span><label> Completed </label> </li>
                                                                            <!-- <li><span>Customer Name : </span> <label>MR
                                                                                    DIXIT
                                                                                    VITTAL MURALI</label> </li>

                                                                            <li><span>Payment Time : </span>
                                                                                <label>2023-06-15
                                                                                    14:45:05</label> </li>


                                                                            <li><span>Quotation Id : </span>
                                                                                <label>SQTW2023061514111217806</label>
                                                                            </li> -->

                                                                            <li><span>Company Name : </span>
                                                                                <label>{{GetSharedPaymentUrl.insurer}}</label>
                                                                            </li>

                                                                            <li><span>Policy No : </span>
                                                                                <label>{{
                                                                                    GetSharedPaymentUrl.PolicyNumber}}</label>
                                                                            </li>

                                                                            <li class="last_child" *ngIf="(GetSharedPaymentUrl.PolicyPdf !='')">
                                                                                <a (click)="ViewDocument(GetSharedPaymentUrl.PolicyPdf)">
                                                                                    <button type="button" name="get_policy" class="download_policy" target="_blank">
                                                                                        <i class="fa fa-download mr_10"></i>Download Policy </button>
                                                                                </a>
                                                                            </li>
                                                                            <!-- <li class="last_child"
                                                                                *ngIf="(GetSharedPaymentUrl.PaymentProof !='')">
                                                                                <a
                                                                                    (click)="ViewDocument(GetSharedPaymentUrl.PaymentProof)">
                                                                                    <button type="button"
                                                                                        name="get_policy"
                                                                                        class="download_policy"
                                                                                        target="_blank"><i
                                                                                            class="fa fa-download mr_10"></i>Download
                                                                                        Payment Proof</button>
                                                                                </a>
                                                                            </li> -->
                                                                            <div class="payment_note">
                                                                                <p><span>Note:</span>
                                                                                    only digital copy of the policy will be issued. this is the original policy document, valid for all
                                                                                    purpose.
                                                                                </p>
                                                                            </div>
                                                                        </ul>
                                                                    </div>

                                                                    <!-- <div class="insurer-list">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th scope="col"> Sr No.</th>
                                                                                    <th scope="col"> Insurers</th>
                                                                                    <th scope="col">Quotes</th>
                                                                                    <th scope="col">Gross Premium</th>
                                                                                    <th scope="col">Remarks</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td>1</td>
                                                                                    <td>{{GetSharedPaymentUrl.insurer}}
                                                                                    </td>
                                                                                    <td class="btn-all"> 
                                                                                        <a href="{{GetSharedPaymentUrl.file}}" target="__blank" class="btn  btn-primary btn-xs download-btn">
                                                                                        <i class="fa fa-download"></i> Download</a>
                                                                                        <a class="btn btn-success btn-xs download-btn"><i class="fa fa-check" aria-hidden="true"></i>Accepted</a>
                                                                                        <a class="btn btn-success btn-xs download-btn"><i class="fa fa-check" aria-hidden="true"></i>Payment complete </a>
                                                                                    </td>
                                                                                    <td>{{GetSharedPaymentUrl.gross}}
                                                                                    </td>
                                                                                    <td>{{GetSharedPaymentUrl.remark}}
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '5' && Status != '8'" class="col-md-12" id="section-status"> <!--GetSharedPaymentUrl.SR_Status == 'Pending'-->
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse" href="#collapse-5" aria-expanded="true" aria-controls="collapse-1">
                                                                        <label class="style_span"> Status - Pending For Approval </label> 
                                                                        <span class="singl-span"><span>By -
                                                                            <label>{{row.CreaterName}}</label></span>
                                                                            <span class="time-div">Time - <label>{{GetSharedPaymentUrl.paymentUrlDateTime}}</label></span>
                                                                        </span>
                                                                    </a>
                                                                </h5>
                                                            </div>

                                                            <div id="collapse-5" class="collapse" data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="offline_payment_design">
                                                                        <ul class="payment_block">
                                                                            <li><span>premium paid :</span>
                                                                                <label><i class="fa fa-inr"></i>{{GetSharedPaymentUrl.gross}}</label>
                                                                            </li>
                                                                            <li><span>status : </span>
                                                                                <label> Pending For Approval</label>
                                                                            </li>
                                                                            <li><span>Company Name : </span>
                                                                                <label>{{GetSharedPaymentUrl.insurer}}</label>
                                                                            </li>
                                                                            <li><span>Policy No : </span>
                                                                                <label>{{ GetSharedPaymentUrl.PolicyNumber}}</label>
                                                                            </li>
                                                                            <li class="last_child" *ngIf="(GetSharedPaymentUrl.PolicyPdf !='')">
                                                                                <a (click)="ViewDocument(GetSharedPaymentUrl.PolicyPdf)">
                                                                                    <button type="button" name="get_policy" class="download_policy" target="_blank">
                                                                                        <i class="fa fa-download mr_10"></i>Download Policy
                                                                                    </button>
                                                                                </a>
                                                                            </li>
                                                                            <li>SR Status <label for="">{{GetSharedPaymentUrl.SR_Status}}</label></li>
                                                                            <div class="payment_note">
                                                                                <p><span>Note:</span>
                                                                                    only digital copy of the policy will be issued. this is the original policy document, valid for all purpose.
                                                                                </p>
                                                                            </div>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="insurer-list">
                                                                        <!-- kamal-start -->
                                                                        <!-- <div class="col-sm-4 padding-0" *ngIf="Status == '5'" tyle="width: 50%;">
                                                                            <label class="btn-success btn-xs download-btn btn-no">
                                                                                Policy Number : <span>{{ GetSharedPaymentUrl.PolicyNumber }}</span></label>
                                                                        </div> -->
                                                                        <div class="col-sm-4 a-btn"
                                                                            *ngIf="Status == '5'" style="width: 50%;">
                                                                             <a *ngIf="(GetSharedPaymentUrl.PolicyPdf !='')" (click)="ViewDocument(GetSharedPaymentUrl.PolicyPdf)"
                                                                                class="btn  btn-primary btn-xs download-btn"><i class="fa fa-download"></i>
                                                                                Policy Pdf
                                                                            </a> 
                                                                            <a *ngIf="(GetSharedPaymentUrl.PaymentProof !='')" (click)="ViewDocument(GetSharedPaymentUrl.PaymentProof)"
                                                                                class="btn  btn-primary btn-xs download-btn"><i class="fa fa-download"></i> Payment Proof 
                                                                            </a>
                                                                        </div>
                                                                        <!-- <div class="col-sm-4 last-btn"
                                                                            *ngIf="Status == '5' &&  row.PunchingTeam == this.LoginUserId ">
                                                                        </div> -->
                                                                        <div class="col-sm-12" *ngIf="((GetSharedPaymentUrl.SR_Status == 'Pending' &&  QuoteAction == 'Admin') || (row.PunchingTeam == this.LoginUserId)) && RejectedStatus == '0' && row.QuoteStatus != 6">
                                                                            <!--  -->
                                                                            <div class="d_flex flex_End">
                                                                                <button class="btn btn-primary btn-sm" (click)="CreateAnSr()" type="submit">Edit Sr
                                                                                </button>&nbsp;&nbsp;
                                                                                <button type="button" (click)="RejectedQuoteModel(row.Quotation)" class="btn btn-danger"> Reject </button>
                                                                            </div>

                                                                            
                                                                            <!-- <form class="form" (ngSubmit)="CompletedPayment()" [formGroup]="CompletePaymentForm">
                                                                                <div class="row form-row-padding">
                                                                                    <div class="col-md-8">
                                                                                        <input type="text" placeholder="SR No" formControlName="CompletedSr_No" class="form-control col-sm-8">
                                                                                        <div *ngIf="isSubmitted && formControls3.CompletedSr_No.errors" class="ValidationError">
                                                                                            <div *ngIf="formControls3.CompletedSr_No.errors.required">
                                                                                                Please Enter SrNo !
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-4 full-width">
                                                                                        <button type="submit" class="btn btn-success"> Complete </button> <button
                                                                                            type="button" (click)="RejectedQuoteModel(row.Quotation)" class="btn btn-danger"> Reject </button>
                                                                                    </div>
                                                                                </div>
                                                                            </form> -->
                                                                            <!-- <div  *ngIf="Status == '5' &&  QuoteAction == 'Admin' && RejectedStatus == '0'">
                                                                                <button class="btn btn-primary btn-sm" (click)="CreateAnSr()" type="submit">Edit Sr
                                                                                </button>&nbsp;&nbsp;
                                                                                <button type="button" (click)="RejectedQuoteModel(row.Quotation)" class="btn btn-danger"> Reject </button>
                                                                            </div> -->
                                                                        
                                                                        </div>

                                                                        <!-- kamal-end -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '4' && Status != '8'" class="col-md-12" id="section-status">
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse" href="#collapse-4" aria-expanded="true" aria-controls="collapse-1">
                                                                         <label class="style_span">
                                                                            Status - 
                                                                            <span *ngIf="row.PaymentMode == 'Cheque'">Payment For Cheque </span> 
                                                                            <span *ngIf="row.PaymentMode == 'Online'">Payment For Online </span> 
                                                                            <span *ngIf="row.PaymentMode == 'Cash'">Payment For Cash </span>

                                                                        </label> 
                                                                        <span class="singl-span">
                                                                            <span>By - <label>{{row.AssignerName}}</label></span>
                                                                            <span class="time-div">Time - <label>{{GetSharedPaymentUrl.paymentUrlDateTime}}</label></span>
                                                                        </span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-4" class="collapse"
                                                                data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="insurer-list">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th scope="col"> Sr No.</th>
                                                                                    <th scope="col">Insurers</th>
                                                                                    <th scope="col">Quotes</th>
                                                                                    <th scope="col">Gross Premium</th>
                                                                                    <th scope="col">Remarks</th>
                                                                                    <!-- <th scope="col">Date</th> -->
                                                                                    <!-- <th scope="col" *ngIf="Status == '4' && row.PaymentMode !='Online' ">Payment </th> <th scope="col">Date</th> -->
                                                                                    <th scope="col" *ngIf="Status == '4'  && row.PaymentMode == 'Online' "> Action </th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <!-- <td>{{row.SrNo}}</td> -->
                                                                                    <td>1</td>
                                                                                    <td>{{GetSharedPaymentUrl.insurer}}
                                                                                    </td>
                                                                                    <td class="btn-all"> 
                                                                                        <a href="{{GetSharedPaymentUrl.file}}" target="__blank" class="btn  btn-primary btn-xs download-btn">
                                                                                        <i class="fa fa-download"></i> Download</a> 
                                                                                        <a class="btn btn-success btn-xs download-btn"><i class="fa fa-check" aria-hidden="true"></i>Accepted</a>
                                                                                    </td>
                                                                                    <td>{{GetSharedPaymentUrl.gross}} </td>
                                                                                    <td>{{GetSharedPaymentUrl.remark}} </td>
                                                                                    <!-- <td>{{GetSharedPaymentUrl.date}}</td> -->
                                                                                    <td *ngIf="Status == '4' &&  row.PaymentMode == 'Online'  && RejectedStatus == '0'">
                                                                                        <a href="{{GetSharedPaymentUrl.PaymentUrl}}" target="_Blank" class="btn btn-info btn-xs download-btn">
                                                                                            <i class="fa fa-check" aria-hidden="true"></i>Proceed to pay 
                                                                                        </a>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>

                                                                        <div class="col-sm-12 padding-0" *ngIf="(Status == '4' || Status == '5') && (row.PunchingTeam == this.LoginUserId)">
                                                                            <div class="col-sm-12">
                                                                                <form class="form" (ngSubmit)="AddPaymentConfrimForm()" [formGroup]="AddPaymentConfrim">
                                                                                    <div class="row">
                                                                                        <div class="col-sm-4"> 
                                                                                            <label> PolicyNumber:</label>
                                                                                            <input type="text" formControlName="PolicyNumber" class="form-control" required>
                                                                                            <div *ngIf="isSubmitted && formControlsAddPaymentConfrim.PolicyNumber.errors "
                                                                                                class="ValidationError">
                                                                                                <div *ngIf="formControlsAddPaymentConfrim.PolicyNumber.errors.required"> Please Enter PolicyNumber ! </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            <label>PolicyPdf:</label> 
                                                                                            <input type="file" (change)="UploadDocss($event,'PolicyPdf')" formControlName="PolicyPdf" class="form-control" required>
                                                                                            <div *ngIf="isSubmitted && formControlsAddPaymentConfrim.PolicyPdf.errors" class="ValidationError">
                                                                                                <div *ngIf="formControlsAddPaymentConfrim.PolicyPdf.errors.required">
                                                                                                    Please Enter Policy Pdf!
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            <label>PaymentProof:</label>
                                                                                            <input type="file" (change)="UploadDocss($event,'PaymentProof')" formControlName="PaymentProof" class="form-control">
                                                                                            <div *ngIf="isSubmitted && formControlsAddPaymentConfrim.PaymentProof.errors" class="ValidationError">
                                                                                                <div *ngIf="formControlsAddPaymentConfrim.PaymentProof.errors.required">
                                                                                                    Please Enter Payment Proof ! 
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-sm-4" style="padding-top: 20px;">
                                                                                            <button class="btn btn-primary btn-sm" type="submit">Submit
                                                                                            </button>&nbsp;&nbsp;
                                                                                            <button *ngIf="row.AssignUsertype == 'employee' && row.PunchingTeam == this.LoginUserId && Status == '4' && RejectedStatus == '0' "
                                                                                                type="button" (click)="RejectedQuoteModel(row.Quotation)" class="btn btn-danger btn-sm sub-btn-tbl">
                                                                                                Reject
                                                                                            </button>
                                                                                        </div>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '3' || Status == '8'" class="col-md-12" id="section-status">
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5
                                                                    class="mb-0 collapse-heading collaps-a collaps-a-span">
                                                                    <a role="button" data-toggle="collapse"
                                                                        href="#collapse-3" aria-expanded="true"
                                                                        aria-controls="collapse-1"> <label
                                                                            class="style_span"> Status - Quote Accepted
                                                                        </label> <span class="singl-span"> <span>By -
                                                                                <label>{{row.CreaterName}}</label></span>
                                                                            <span class="time-div">Time -
                                                                                <label>{{GetSharedPaymentUrl.SharedQuoteAccpetTime}}</label></span></span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-3" class="collapse"
                                                                data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="insurer-list">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th scope="col"> Sr No.</th>
                                                                                    <th scope="col"> Insurers</th>
                                                                                    <th scope="col">Quotes</th>
                                                                                    <th scope="col">Gross Premium</th>
                                                                                    <th scope="col">Remarks</th>
                                                                                    <!-- <th scope="col">Date</th> -->
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td>1</td>
                                                                                    <td>{{GetSharedPaymentUrl.insurer}}
                                                                                    </td>
                                                                                    <td class="btn-all"> <a
                                                                                            *ngIf="(GetSharedPaymentUrl.file !='')"
                                                                                            (click)="ViewDocument(GetSharedPaymentUrl.file)"
                                                                                            class="btn  btn-primary btn-xs download-btn"><i
                                                                                                class="fa fa-download"></i>
                                                                                            Download</a>

                                                                                        <a
                                                                                            class="btn btn-success btn-xs download-btn"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Accepted</a>


                                                                                        <a *ngIf="row.SurveyStatus == '1' && row.SurveyId !='0'  && row.surveyStatus2 =='3'"
                                                                                            class="btn btn-danger btn-xs download-btn"><i
                                                                                                class="fa fa-close"
                                                                                                aria-hidden="true"></i>
                                                                                            Survey Rejected</a>

                                                                                        <a *ngIf="row.SurveyStatus == '1' && row.SurveyId !='0'  && row.surveyStatus2 =='1'"
                                                                                            (click)="InspectionDetails(row.SurveyId)"
                                                                                            class="btn btn-info btn-xs download-btn"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Survey
                                                                                            In-process</a>

                                                                                        <a *ngIf="row.SurveyStatus == '1' && row.SurveyId !='0'  && row.surveyStatus2 =='2'"
                                                                                            (click)="InspectionDetails(row.SurveyId)"
                                                                                            class="btn btn-success btn-xs download-btn"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Survey
                                                                                            Completed</a>


                                                                                        <a *ngIf="row.SurveyStatus == '1' && row.SurveyId !='0'  && row.surveyStatus2 =='0'"
                                                                                            (click)="InspectionDetails(row.SurveyId)"
                                                                                            class="btn btn-info btn-xs download-btn"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Survey
                                                                                            Pending</a>

                                                                                        <a *ngIf="row.SurveyStatus == '1' && row.SurveyId =='0'"
                                                                                            routerLink="/survey/create-requests/{{row.Quotation}}"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Raise
                                                                                            Survay</a>
                                                                                        <!-- <a  *ngIf="row.SurveyStatus == '1' && row.SurveyId =='0'" routerLink="/survey/create-requests/{{row.Quotation}}"><i class="fa fa-check"                                                      aria-hidden="true"></i>Raise Survay</a> -->
                                                                                    </td>
                                                                                    <td>{{GetSharedPaymentUrl.gross}}
                                                                                    </td>
                                                                                    <td>{{GetSharedPaymentUrl.remark}}
                                                                                    </td>
                                                                                    <!-- <td>{{GetSharedPaymentUrl.date}}</td> -->
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>


                                                                        <div class="col-sm-12"
                                                                            *ngIf="GetSingleData.PunchingTeam == this.LoginUserId && (Status == '3') && RejectedStatus == '0' ">
                                                                            <!-- && (row.FileType == 'New' ||  (row.FileType =='Rollover' &&  row.SurveyStatus == '0') ||  (row.FileType =='Renewal' &&  row.SurveyStatus == '0' ) || (row.FileType =='Used' &&  row.SurveyStatus == '0' ) || (row.FileType =='Used' && row.SurveyId !='0' &&  row.surveyStatus2 == '2') ||(row.FileType =='Rollover' && row.SurveyId !='0' &&  row.surveyStatus2 == '2') ||  (row.FileType =='Renewal' && row.SurveyId !='0' &&  row.surveyStatus2 == '2')   -->
                                                                            <form class="form" (ngSubmit)="AddPaymentUrlForm()" [formGroup]="PaymentUrlQuoteForm">
                                                                                <div class="row form-row-padding">                                                                                    
                                                                                    <div class="col-md-4">
                                                                                        <label>Payment Url</label>
                                                                                        <select class="form-control" formControlName="PaymentMethod" name="PaymentMethod" id="PaymentMethod">
                                                                                            <!-- <option disabled value="">
                                                                                                Payment Mode </option> -->
                                                                                            <option value="Cash"> Cash </option>
                                                                                            <option value="Online">Online</option>
                                                                                            <option value="Cheque">Cheque</option>
                                                                                        </select> 
                                                                                        <span *ngIf="isSubmitted && formControls1.PaymentMethod.errors" class="form-text text-muted">
                                                                                            <span  *ngIf="formControls1.PaymentMethod.errors.required" style="color:red;">Field is required..!</span>
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="col-md-4" *ngIf="PaymentUrlQuoteForm.value['PaymentMethod'] != 'Cheque'">
                                                                                        <label>Enter UTR Number</label>
                                                                                        <input type="text" formControlName="UtrNumber"  placeholder="Enter UTR Number" class="form-control">
                                                                                    </div>
                                                                                    <div class="col-md-4" *ngIf="PaymentUrlQuoteForm.value['PaymentMethod'] == 'Online'">
                                                                                        <label>Enter Payment Url</label>
                                                                                        <input type="text" formControlName="PaymentUrl"  placeholder="Enter Payment Url" class="form-control">
                                                                                        <div *ngIf="isSubmitted && formControls1.PaymentUrl.errors" class="ValidationError">
                                                                                            <div *ngIf="formControls1.PaymentUrl.errors.required"> Please Enter Payment Url ! </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-4" *ngIf="PaymentUrlQuoteForm.value['PaymentMethod'] == 'Cash'">
                                                                                        <label>Cash</label>
                                                                                        <input type="file" (change)="UploadDocss($event,'CashProof')" formControlName="CashProof" class="form-control" >
                                                                                        <div *ngIf="isSubmitted && formControls1.CashProof.errors"
                                                                                            class="ValidationError">
                                                                                            <div  *ngIf="formControls1.CashProof.errors.required"> Please Select Cheque Image ! </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-4" *ngIf="PaymentUrlQuoteForm.value['PaymentMethod'] == 'Cheque'">
                                                                                        <label>Cheque</label>
                                                                                        <input type="file" (change)="UploadDocss($event,'chequeImage')" formControlName="chequeImage" class="form-control">
                                                                                        <div *ngIf="isSubmitted && formControls1.chequeImage.errors"
                                                                                            class="ValidationError">
                                                                                            <div *ngIf="formControls1.chequeImage.errors.required"> Please Select Cheque Image ! </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-4" *ngIf="PaymentUrlQuoteForm.value['PaymentMethod'] == 'Cheque'">
                                                                                        <label>Enter Cheque No</label>
                                                                                        <input type="text" formControlName="Cheque_No" placeholder="Enter Cheque No" class="form-control">
                                                                                        <div *ngIf="isSubmitted && formControls1.Cheque_No.errors " class="ValidationError">
                                                                                            <div *ngIf="formControls1.Cheque_No.errors.required"> Please Enter Cheque No ! </div>
                                                                                        </div>
                                                                                    </div>                                                                       
                                                                                    <div class="col-md-4" style="padding-top: 20px;">
                                                                                        <button class="btn btn-primary btn-sm" type="submit">Submit </button>
                                                                                            &nbsp;&nbsp;
                                                                                            <button *ngIf="row.AssignUsertype == 'employee' && row.PunchingTeam == this.LoginUserId && Status == '3' && RejectedStatus == '0' "
                                                                                                type="button" (click)="RejectedQuoteModel(row.Quotation)"  class="btn btn-danger btn-sm sub-btn-tbl">  Reject </button>

                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '2'" class="col-md-12" id="section-status">
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse"
                                                                        href="#collapse-2" aria-expanded="true"
                                                                        aria-controls="collapse-1"> <label
                                                                            class="style_span"> Status - Quotes Released
                                                                        </label> <span class="singl-span">
                                                                            <span>By -
                                                                                <label>{{row.AssignerName}}</label></span>
                                                                            <span class="time-div">Time
                                                                                -
                                                                                <label>{{RequestedQuoteDate}}</label></span></span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-2" class="collapse"
                                                                data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="insurer-list">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th scope="col"> Insurers</th>
                                                                                    <!-- <th scope="col"> PaymentMode</th> -->
                                                                                    <th scope="col">Quotes <label
                                                                                            *ngIf="row.SurveyStatus == '1'"
                                                                                            class="label label-danger">Survay
                                                                                            Required</label> </th>
                                                                                    <th scope="col">Gross Premium</th>
                                                                                    <th scope="col">Remarks</th>
                                                                                    <th scope="col">Date</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody *ngIf="RequestedQuote?.length != 0">
                                                                                <tr
                                                                                    *ngFor="let row of RequestedQuote; let i=index;">
                                                                                    <td>{{row.insurer}}</td>

                                                                                    <td class="btn-all"> <a
                                                                                            *ngIf="(row.file !='')"
                                                                                            (click)="ViewDocument(row.file)"
                                                                                            class="btn  btn-primary btn-xs download-btn"><i
                                                                                                class="fa fa-download"></i>
                                                                                            Download</a>
                                                                                        
                                                                                        <a *ngIf="(Status == '2' || Status == '3' ) &&  (((QuoteAction == 'Creater' || QuoteAction == 'Admin') && GetSingleData.CreateUser_Id == this.LoginUserId)) && RejectedStatus == '0' && GetSharedPaymentUrl.Id != row.id"
                                                                                            data-toggle="modal"
                                                                                            (click)="acceptQuoteValueManger(row.id,1)"
                                                                                            data-target="#AddCatSubCat"
                                                                                            data-backdrop="static"
                                                                                            data-keyboard="false"
                                                                                            class="btn btn-success btn-xs "><i aria-hidden="true"></i>Accept</a>


                                                                                        <a *ngIf="(Status == '2' || Status == '3' ) &&  (GetSingleData.CurrentUser_Id == this.LoginUserId)  && RejectedStatus == '0' && GetSharedPaymentUrl.Id != row.id"
                                                                                            data-toggle="modal"
                                                                                            (click)="acceptQuoteValueManger(row.id,0)"
                                                                                            data-target="#AddCatSubCat"
                                                                                            data-backdrop="static"
                                                                                            data-keyboard="false"
                                                                                            class="btn btn-success btn-xs "><i
                                                                                                aria-hidden="true"></i>Accept</a>
                                                                                        <a *ngIf="GetSharedPaymentUrl.Id == row.id"
                                                                                            class="btn btn-success btn-xs download-btn"><i
                                                                                                class="fa fa-check"
                                                                                                aria-hidden="true"></i>Accepted</a>

                                                                                    </td>
                                                                                    <td>{{row.gross}}</td>
                                                                                    <td>{{row.remark}}</td>
                                                                                    <td>{{row.Date}}</td>
                                                                                </tr>
                                                                            </tbody>
                                                                            <label *ngIf="row.survey_remark != '' "
                                                                                class="label label-danger">Survey Remark
                                                                                = {{row.survey_remark}}</label>
                                                                            <button
                                                                                *ngIf="row.AssignUsertype == 'employee' && QuoteAction == 'Admin'  && row.CurrentUser_Id == this.LoginUserId && Status == '2' && RejectedStatus == '0'"
                                                                                type="button"
                                                                                (click)="RejectedQuoteModel(row.Quotation)"
                                                                                class="btn btn-danger btn-sm sub-btn-tbl">
                                                                                Reject
                                                                            </button>&nbsp;&nbsp;

                                                                            <tbody *ngIf="RequestedQuote?.length == 0">
                                                                                <tr>
                                                                                    <td colspan="8" align="center">No
                                                                                        data Available !</td>
                                                                                </tr>
                                                                            <tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="Status >= '1'" class="col-md-12" id="section-status">
                                        <div class="box box-primary quote-status">
                                            <div class="box-body-2 status-details">
                                                <div class="row">
                                                    <div id="accordion">
                                                        <div class="card">
                                                            <div class="card-header" id="heading-1">
                                                                <h5 class="mb-0 collapse-heading collaps-a">
                                                                    <a role="button" data-toggle="collapse"
                                                                        href="#collapse-1" aria-expanded="true"
                                                                        aria-controls="collapse-1"> <label
                                                                            class="style_span"> Status - Quote Requested
                                                                        </label> <span class="singl-span">
                                                                            <span>By -
                                                                                <label>{{row.CreaterName}}</label></span>
                                                                            <span class="time-div">Time -
                                                                                <label>{{row.CreateDate}}</label></span></span>
                                                                    </a>
                                                                </h5>
                                                            </div>
                                                            <div id="collapse-1" class="collapse"
                                                                data-parent="#accordion" aria-labelledby="heading-1">
                                                                <div class="card-body">
                                                                    <div class="insurer-list"
                                                                        *ngIf="(Status == '1' || Status == '2' ) &&   RejectedStatus == '0' && GetSingleData.CreateUser_Id != this.LoginUserId">
                                                                        <!-- *ngIf="(Status == '1' || Status == '2' ) &&  ( QuoteAction == 'Admin' && RejectedStatus == '0') && GetSingleData.CreateUser_Id != this.LoginUserId"> -->
                                                                        <form class="form"
                                                                            (ngSubmit)="AddSharedCompany()"
                                                                            [formGroup]="SharedQuoteForm">
                                                                            <table class="table table-bordered">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th scope="col">Insurers</th>
                                                                                        <th scope="col">Quotes</th>
                                                                                        <th scope="col">Gross Premium
                                                                                        </th>
                                                                                        <th scope="col">Remarks</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody formArrayName="quantities">
                                                                                    <tr *ngFor="let quantity of quantities().controls; let i=index"
                                                                                        [formGroupName]="i">
                                                                                        <td class="dropdownmaincl">
                                                                                            <ng-multiselect-dropdown
                                                                                                [settings]="dropdownSettingsType"
                                                                                                class="form-control"
                                                                                                name="Insurer"
                                                                                                placeholder="Select&nbsp;Insurer"
                                                                                                [data]="Company"
                                                                                                formControlName="Insurer"
                                                                                                (onSelect)="onItemSelectShareRowWise($event)"
                                                                                                (onDeSelect)="onItemDeSelectShareRowWise($event)">
                                                                                            </ng-multiselect-dropdown>

                                                                                        </td>

                                                                                        <td>

                                                                                            <input type="File"
                                                                                                formControlName="Files"
                                                                                                class="form-control"
                                                                                                (change)="UploadDocs($event,'Image_'+(i+1))">
                                                                                        </td>
                                                                                        <td> <input type="number"
                                                                                                formControlName="GrossPremium"
                                                                                                maxlength="10"
                                                                                                class="form-control"
                                                                                                placeholder="Gross Premium">
                                                                                            <!-- <span *ngIf="isSubmitted && Formcontrols.GrossPremium.errors" class="ValidationError">
                                                                                                    <span *ngIf="Formcontrols.GrossPremium.errors.pattern">Special characters not allowed</span>
                                                                                                 </span> -->
                                                                                        </td>
                                                                                        <td> <input type="text"
                                                                                                formControlName="Remarks"
                                                                                                class="form-control"
                                                                                                placeholder="Remarks">
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                            <div class="col-sm-12 padding-0">
                                                                                <div class="col-sm-12">
                                                                                    <div class="col-sm-5"></div>
                                                                                    <div class="col-sm-3 sub-btn">
                                                                                        <!-- <button
                                                                                            *ngIf="row.AssignUsertype == 'employee' && Status == '1'"
                                                                                            type="button"
                                                                                            (click)="RejectedQuoteModel(row.Quotation)"
                                                                                            class="btn btn-danger btn-sm sub-btn-tbl">
                                                                                            Reject
                                                                                        </button>  -->
                                                                                        <button
                                                                                            
                                                                                            type="button"
                                                                                            (click)="RejectedQuoteModel(row.Quotation)"
                                                                                            class="btn btn-danger btn-sm sub-btn-tbl">
                                                                                            Reject
                                                                                        </button> 
                                                                                        
                                                                                        
                                                                                        <!-- -->
                                                                                    </div>
                                                                                    <div class="col-sm-3 sub-btn">
                                                                                        <button
                                                                                           
                                                                                            class="btn btn-primary btn-sm sub-btn-tbl"
                                                                                            type="submit">Submit
                                                                                        </button>
                                                                                        <!-- <button
                                                                                            *ngIf="row.AssignUsertype == 'employee'"
                                                                                            class="btn btn-primary btn-sm sub-btn-tbl"
                                                                                            type="submit">Submit
                                                                                        </button> -->
                                                                                        
                                                                                        <!---->
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>

                            <div class="col-md-4">
                                <!-- DIRECT CHAT -->
                                <div class="box box-info direct-chat direct-chat-info">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Offline Chat Bot</h3>
                                        <div class="box-tools pull-right"> </div>
                                    </div>
                                    <div class="box-body">
                                        <!-- Conversations are loaded here -->
                                        <div #scrollframe id="directmessages" class="direct-chat-messages frame"
                                            (scroll)="scrolled($event)">
                                            <div *ngFor="let m of Messages;"
                                                class="direct-chat-msg {{m.MainClassName}} item" #item>
                                                <div class="direct-chat-info clearfix"> <span
                                                        class="direct-chat-name pull-{{m.ClassName}}">{{m.Name}}</span>
                                                    <span
                                                        class="direct-chat-timestamp pull-{{m.DateTimeClassName}}">{{m.DateTime}}</span>
                                                </div>
                                                <!-- /.direct-chat-info --><img class="direct-chat-img"
                                                    src="assets/dist/img/user2-160x160.png">
                                                <!-- /.direct-chat-img -->
                                                <div *ngIf="m.Message != ''" class="direct-chat-text"
                                                    [innerHTML]="m.Message">
                                                </div>
                                                <div *ngIf="m.Is_Attachement == '1'" class="attachment">
                                                    <h6>Attachments:</h6>
                                                    <a href="javascript:void" (click)="ViewDocument(m.Attachment_Url)">
                                                        <p class="filename"> {{m.Attachment_Name}} </p>
                                                    </a>s
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.box-body -->
                                    <div class="box-footer"
                                        *ngIf="row.RejectedStatus != '1' && Status != '6' && row.AssignUsertype == 'employee'">
                                        <form [formGroup]="ChatForm" (ngSubmit)="Send()" method="post">
                                            <div class="input-group"> <input type="text" formControlName="Message"
                                                    placeholder="type message..." class="form-control"> <span
                                                    class="input-group-btn"> <label for="file-input"> <a type="button"
                                                            class="btn"> <input id="file-input"
                                                                (change)="UploadAttachment($event)"
                                                                style="display: none;" type="file"> <i
                                                                class="fa fa-paperclip"></i></a></label> <button
                                                        type="submit" class="btn btn-info btn-flat">Send</button>
                                                </span> </div>
                                        </form>
                                    </div>
                                    <!-- /.box-footer-->
                                </div>
                                <!--/.direct-chat -->
                            </div>
                        </div> <!-- row col 8 end-->
                    </div>
                </div>
            </div>
        </div> <!-- main content right end -->
    </section> <!-- section content end-->
    <!--
 /.content -->
</div>

<div id="AddCatSubCat" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="main_card_form">
                        <div class="main_header">
                            <div class="header_title">Update KYC</div>
                        </div>
                        <div>
                            <form (ngSubmit)="AcceptQuotes()" [formGroup]="AddFlagForm">
                                <div class="main_body main_card_height_scroll">
                                    <div class="row">
                                        <ng-container *ngIf="customFormArr?.length > 0">
                                            <div class="col-md-12 mt_20" id="filecontainer">
                                              <div class="col-md-6" *ngFor="let formData of customFormArr">
                                                <div class="input_group" *ngIf="['InsurerName', 'InsurerMobile', 'InsurerEmail'].includes(formData?.key)">
                                                  <label for="">{{ formData?.name }}</label>
                                                  <input type="text" class="form-control" [value]="formData?.value" [(ngModel)]="formData.value" [placeholder]="formData?.key === 'InsurerName' ? 'Name' : (formData?.key === 'InsurerMobile' ? 'Mobile' : 'Email')" [formControlName]="formData?.key">
                                                  <span *ngIf="isSubmittedFleg && AddFlagForm.get(formData?.key).errors" class="ValidationError">
                                                    <span *ngIf="AddFlagForm.get(formData?.key).errors.required">{{ formData?.name }} field is required !</span>
                                                    <span *ngIf="AddFlagForm.get(formData?.key).errors.pattern"> only number formet is valid !</span>
                                                    <span *ngIf="AddFlagForm.get(formData?.key).errors.email">create email is required !</span>
                                                  </span>
                                                </div>
                                                <div class="input_group" *ngIf="formData?.key === 'InsurerDob'">
                                                  <label for="">Insured DOB</label>
                                                  <input type="date" class="form-control" [value]="formData?.value" [(ngModel)]="formData.value" formControlName="InsurerDob">
                                                  <span *ngIf="isSubmittedFleg && AddFlagForm.get('InsurerDob').errors" class="ValidationError">
                                                    <span *ngIf="AddFlagForm.get('InsurerDob').errors.required"> {{ formData?.name }} field is required</span>
                                                  </span>
                                                </div>

                                                <div class="input_group" *ngIf="!['InsurerName', 'InsurerMobile', 'InsurerEmail','InsurerDob'].includes(formData?.key) &&
                                                 !['documentType'].includes(formData?.key) && 
                                                 !['doc'].includes(formData?.type) &&
                                                 !['dob'].includes(formData?.type)">
                                                    <input type="text" class="form-control" [placeholder]="formData?.name" 
                                                    [formControlName]="formData?.key">
                                                    <span *ngIf="isSubmittedFleg && AddFlagForm.get(formData?.key)?.errors" class="ValidationError">
                                                        <span *ngIf="AddFlagForm.get(formData?.key)?.errors.required">This field is required</span>
                                                        <span *ngIf="AddFlagForm.get(formData?.key)?.errors.minlength">Minimum length is 2</span>
                                                        <span *ngIf="AddFlagForm.get(formData?.key)?.errors.pattern">Only numbers are allowed</span>
                                                      </span>
                                                </div>


                                                <div class="input_group" *ngIf="!['InsurerName', 'InsurerMobile', 'InsurerEmail','InsurerDob'].includes(formData?.key) &&
                                                 !['documentType'].includes(formData?.key) && 
                                                 !['doc'].includes(formData?.type) && 
                                                 ['dob'].includes(formData?.type)">
                                                    <input type="date" class="form-control" [placeholder]="formData?.name" 
                                                    [formControlName]="formData?.key">
                                                    <span *ngIf="isSubmittedFleg && AddFlagForm.get(formData?.key)?.errors" class="ValidationError">
                                                        <span *ngIf="AddFlagForm.get(formData?.key)?.errors.required">This field is required</span>
                                                      </span>
                                                </div>
                                               
                                                <div class="input_group"><strong style="color: #2cb2b3;font-size: 19px;font-weight: 800;">
                                                    {{ 
                                                    formData?.key === 'documentType' && formData?.name === 'self' ? 'Self Document' :
                                                    formData?.key === 'documentType' && formData?.name === 'daughter' ? 'Daughter Document' :
                                                    formData?.key === 'documentType' && formData?.name === 'son' ? 'Son Document' :
                                                    formData?.key === 'documentType' && formData?.name === 'spouse' ? 'Spouse Document' :
                                                    formData?.key === 'documentType' && formData?.name === 'mother' ? 'Mother Document' :
                                                    (formData?.key === 'documentType' && formData?.key === 'father' ? 'Father Document' : '')}}</strong>
                                                </div>

                                                <div class="input_group" *ngIf="formData?.type =='doc'">
                                                    <label [for]="formData?.key"
                                                        class="form_control d_flex flex_Center flex_Middel fileUpload_btn"
                                                        name="button"  
                                                        [ngStyle]="{'background-color': labelColors[formData?.key]}"
                                                        (change)="changeColor(formData?.key)">
                                                        
                                                        <input type="file" (change)="UploadDocsKyc($event,formData?.key)" [id]="formData?.key"
                                                            accept="image/png, image/gif, image/jpeg, application/pdf"
                                                            [formControlName]="formData?.key" style="display: none !important;"/>
                                                        <i class="fas fa-user-alt"><b> {{formData?.name}}</b></i> <!---->
                                                    </label>
                                                    <span *ngIf="isSubmittedFleg && AddFlagForm.get(formData?.key).errors" class="ValidationError">
                                                        <span *ngIf="AddFlagForm.get(formData?.key).errors.required"> {{ formData?.name }} field is required</span>
                                                    </span>
                                                </div>
                                              </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="main_footer">
                                    <button type="button" id="ClosePOUPUP" class="mr_5 btn-danger Save_click"
                                        data-dismiss="modal">Close</button>
                                    <button type="submit" class="Save_click">Add</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>