<!-- Content Wrapper. Contains page content -->
<div class="inner_page_css">
  <!-- Content Header (Page header) -->


  <!-- Main content -->
  <section class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <div class="main_card_form">
      
          <div class="main_header">
            <div class="header_title">
              <div>Invalid Pan</div>
            </div>
          </div>

          <div *ngIf="!hasAccess" class="error-message">
          <div class="container" style="text-align: center;">
            <img src="assets/Authorised.png" alt="">
            <h4>{{ errorMessage }}</h4>
          </div>
          
        </div>

        <div class="main_body main_card_height_scroll" *ngIf="hasAccess">

            <form [formGroup]="SearchForm" (ngSubmit)="SearchData()">


              <div class="row" >
            
                <div class="col-sm-3" >
                  <input type="text" formControlName="SearchValue" name="SearchValue" class="form-control" placeholder="Search">
                </div>
               
            
                <div class="col-sm-3">
                  <button type="submit" class="btn btn-info" style="font-size: small;" value="Search"> <i class="fa fa-search">Search</i> </button>
                  &nbsp;&nbsp;
                  <button (click)="ClearSearch()" type="button" style="font-size: small;" class="btn btn-danger" value="Reset"> <i class="fa fa-close"> Reset</i> </button>
                  &nbsp;&nbsp;
                
                </div>
            
              </div>
             
            </form>
            

            <hr>
          

            <div class="mydiv table-responsive ">
              <table datatable [dtOptions]="dtOptions" id="Table1" class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>S.No</th>
                    <th>PAN NO</th>
                    <th>PAN MSG</th>
                    <th>Request</th>
                    <th>Response</th>
                    <th>Date</th>
                    <th>Action</th>
                  </tr>

                </thead>
                <tbody *ngIf="dataAr?.length != 0">

                  <tr *ngFor="let row of dataAr; let i=index;">
                    <td>{{row.SrNo}}</td>
                    <td>{{row.pan_number}}</td>

                    <td>{{row.pan_msg}}</td>
                    <td>   <button type="button" class="btn btn-primary" data-toggle="modal" [attr.data-target]="'#modelId' + row.SrNo">
                      Request View
                    </button></td>
                    <td>   <button type="button" class="btn btn-primary" data-toggle="modal"  [attr.data-target]="'#modelId1' + row.SrNo">
                      Response View
                    </button></td>
                    
                   <td>{{row.date}}</td>
                   <td>
                    <label class="label label-danger" (click)="changestatus(row.Id,row.pan_number)">Delete</label>
                   </td>


                <div class="modal fade" [attr.id]="'modelId' + row.SrNo" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                                <div class="modal-header">
                                        <h5 class="modal-title">Request</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                    </div>
                            <div class="modal-body">
                                <div class="container-fluid">

                                    <p>{{row.request_pan}}</p>
                                  
                                    
                                </div>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-info" (click)="CopyText(row.request_pan)" data-dismiss="modal">Copy</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade"  [attr.id]="'modelId1' + row.SrNo" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                                <div class="modal-header">
                                        <h5 class="modal-title">Response</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                    </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                  <p>{{row.response_pan}}</p>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-info" (click)="CopyText(row.response_pan)" data-dismiss="modal">Copy</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>


                  </tr>

                </tbody>
                <tbody *ngIf="dataAr?.length == 0">
                  <tr>
                    <td colspan="8" align="center">No data Available !</td>
                  </tr>
                <tbody>
              </table>
            </div>

          </div>
            
        
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>

  <!-- Button trigger modal -->

  
  <!-- Modal -->
  
  
  <script>
      $('#exampleModal').on('show.bs.modal', event => {
          var button = $(event.relatedTarget);
          var modal = $(this);
          // Use above variables to manipulate the DOM
          
      });
  </script>
</div>
