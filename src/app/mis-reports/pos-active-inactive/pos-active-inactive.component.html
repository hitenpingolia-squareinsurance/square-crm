<section class="inner_page_css">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="main_card_form">
          <div class="main_header">
            <div class="header_title">
              <div *ngIf="ActivePage == 'Default'" class="box-title">POSP Activation Report</div>
            </div>
          </div>

          <div *ngIf="!hasAccess" class="error-message">
            <div class="container" style="text-align: center;">
              <img src="assets/Authorised.png" alt="">
              <h4>{{ errorMessage }}</h4>
            </div>
            
        </div>

          <div class="main_body main_card_height_scroll_withoutfooter"  *ngIf="hasAccess">

            <div *ngIf="this.urlSegment == 'active-inactive-pos-reports'  ">
              <div>
                <div class="d_flex flex_End dsr-fillters" style="float: unset !important;">
                  <button class="btn btn-info1" role="tab" id="headingOne" data-toggle="collapse"
                    data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <a role="button" class="fa fa-filter"><span>Filters</span><i
                        class="fa fa-angle-down pull-right"></i></a>
                  </button>
                </div>
              </div>

              <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="panel-body">
                  <!-- filter  -->
                  <app-bms-filter-v2 (postCreated)="SearchData($event)"></app-bms-filter-v2>
                </div>
              </div>

            </div>
            <div *ngIf="this.urlSegment == 'active-inactive-pos' || this.urlSegment == 'pos-active-inactive'">
              <div>
                <div class="d_flex flex_End dsr-fillters" style="float: unset !important;">
                  <button class="btn btn-info1" role="tab" id="headingOne" data-toggle="collapse"
                    data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <a role="button" class="fa fa-filter"><span>Filters</span><i
                        class="fa fa-angle-down pull-right"></i></a>
                  </button>
                </div>
              </div>

              <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="panel-body">
                  <!-- filter  -->
                  <app-bms-filter (postCreated)="SearchData($event)"></app-bms-filter>
                </div>
              </div>

            </div>

            <hr>

            <div class="row" *ngIf="this.urlSegmentRoot != 'custom-reports' ">

              <div class="col-sm-2">
                <b>Total POS </b>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b> {{ this.TotalPos}}</b>
              </div>
              <div class="col-sm-2" *ngIf="StatusActiveInactive!=''">
                <b>Total {{ StatusActiveInactive }} </b>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b> {{ this.Total}}</b>
              </div>
              <div class="col-sm-3" *ngIf="StatusActiveInactive!=''">
                <b>Percentage Ratio </b>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b> {{ this.percetage}}%</b>
              </div>




            </div>
            <!-- <div class=" mydiv table-responsive">
            
              <table datatable [dtOptions]="dtOptions" id="Table1" class="table table-bordered table-hover"
                *ngIf="this.urlSegmentRoot != 'custom-reports'">
                <thead>
                  <tr>
                    <th>S.No</th>
                  
                    <th>POS ID</th>
                    <th>Name / Mobile / Email</th>
                    <th>RM Name</th>
                    <th>POSP Location</th>
                    <th>Business</th>
                    <th>Last Policy Date</th>
                 
                  </tr>
                </thead>
                <tbody *ngIf="dataAr?.length != 0">
                  <tr *ngFor="let row of dataAr;">
                    <td>{{row.SrNo}}</td>
                    <td> {{row.AgentId}} </td>
                    <td>
                      <b>Name - </b> {{row.Name}}<br> <b>Mobile - </b> {{row.Mobile_No}} <br> <b>Email
                        -</b>{{row.Email}} <br>
                        <a *ngIf="WhatsAppCheck==false" href="https://web.whatsapp.com/send?phone={{row.Mobile_No}}&text=" title="Share on whatsapp"
                target="_blank"><label _ngcontent-sqe-c9="" class="label label-success"><i _ngcontent-sqe-c9=""
                    class="fa fa-whatsapp"></i> WhatsApp </label></a>
                
                <a *ngIf="WhatsAppCheck==true" href="whatsapp://send?phone={{row.Mobile_No}}&text="
                  title="Share on whatsapp"><label _ngcontent-sqe-c9="" class="label label-success"><i
                      _ngcontent-sqe-c9="" class="fa fa-whatsapp"></i> WhatsApp </label></a>
                    </td>
                    <td> {{row.Employee}}</td>
                    <td> <b>State - </b> {{row.StateName}}<br> <b>City - </b> {{row.CityName}} <br> <b>Pincode
                        -</b>{{row.PinCode}} <br></td>
                    <td> <b>Net Premium - </b> {{row.NetPremium}}<br> <b>Total Policy - </b>
                      {{row.TotalPolicy}}</td>
                    <td>{{row.LastPolicyDate}}</td>
                  </tr>
                </tbody>
                <tbody *ngIf="dataAr?.length == 0">
                  <tr>
                    <td colspan="8" align="center">No data Available !</td>
                  </tr>
                <tbody>
              </table>

            </div> -->


            <div class="custom_table ERRINGtables_layout_design">
              <table datatable [dtOptions]="dtOptions" class="row-border table" id="Table1">
                <thead>
                  <tr>
                    <th></th>
                  </tr>
                </thead>
              </table>
              <ul class="responsive-table" *ngIf="dataAr?.length != 0">
                <li class="table-row tablerow{{(i % 10) + 1}}" *ngFor="let row of dataAr; let i=index;">
                  <div class="d_flex w_100 flex_Equal px_10 pb_10 flex_colum_sm mt15">
                    <div class="agents_data agents_data1">
                      <div class="icon_re_cl">{{row.SrNo}}</div>
                      <div class="agent_name_mobile">
                        <div class="agent_data">
                          
                          <div>Agent </div>

                          <strong class="fs_18"><span>{{row.Name}} ({{row.AgentId}}) </span></strong>
                       
                      </div>
                      </div>
                    </div>
                    <div class="agents_data agents_data2">
                      <div class="agent_name_mobile">
                        <div class="agent_data">
                          <div>Email</div>
                          <strong class="fs_18" id="emailToCopy">{{row.Email}}</strong>
                        </div>
                      </div>
                    </div>
                    <div class="agents_data agents_data3">
                      <div class="agent_name_mobile">
                        <div class="agent_data">
                          <div>Mobile</div>
                          <strong class="fs_18">{{row.Mobile_No}}</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="last_row_div">
                    <div class="d_flex custon-234">
                      <div class="label_chips mutual_fund_lob" *ngIf="row.Employee != ''">
                          <span>RM - {{row.Employee}}</span>
                      </div>
                      <div class="label_chips health_lob" *ngIf="row.StateName != '' && row.StateName != undefined">
                          <span>State - {{row.StateName}}</span>
                       </div>
                       <div class="label_chips life_lob" *ngIf="row.CityName != '' && row.CityName != undefined">
                          <span>City - {{row.CityName}}</span>
                       </div>
                       <div class="label_chips motor_lob" *ngIf="row.PinCode != '' && row.PinCode != undefined">
                          <span>Pincode - {{row.PinCode}}</span>
                       </div>
                      <div class="label_chips non_motor_lob" *ngIf="row.NetPremium != ''">
                        <span>Net Premium : {{row.NetPremium}}</span>
                      </div>
                      <div class="label_chips finance_lob" *ngIf="row.TotalPolicy != ''">
                        <span>TotalPolicy : {{row.TotalPolicy}}</span>
                      </div>
                      <div class="label_chips real_estate_lob" *ngIf="row.LastPolicyDate != ''">
                        <span>Last Policy Date : {{row.LastPolicyDate | date:'dd-MM-yyyy'}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="last_row">
                    <div class="effective_date">
                      <div class="d_flex">
                          <a *ngIf="WhatsAppCheck==false" href="https://web.whatsapp.com/send?phone={{row.Mobile_No}}&text=" class="btn btnsuccess" title="Share on whatsapp" target="_blank"><i class="fa fa-whatsapp"></i><span>Share on whatsapp</span></a>
                          <a *ngIf="WhatsAppCheck==true" href="whatsapp://send?phone={{row.Mobile_No}}&text=" class="btn btnsuccess" title="Share on whatsapp"><i class="fa fa-whatsapp"></i><span>Share on whatsapp</span></a>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
              <div class="row" *ngIf="dataAr?.length == 0">
                <div class="col-md-12">
                  <div class="no_data_found">
                    <span><img src="assets/image/no_data_banner.jpg"></span>
                    <small>No data available !</small>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>